<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:DnDigital_1e.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="1920" d:DesignHeight="1080"
		xmlns:views="clr-namespace:DnDigital_1e.Views"
        x:Class="DnDigital_1e.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        ExtendClientAreaToDecorationsHint="True"
		ExtendClientAreaTitleBarHeightHint="-1"
        ExtendClientAreaChromeHints="NoChrome"
		Padding="{Binding $self.OffScreenMargin}"
        Icon="/Assets/avalonia-logo.ico"
        Title="DnDigital_1e">

    <Design.DataContext>
        <vm:MainWindowViewModel/>
    </Design.DataContext>

	<!-- Стили -->
    <Window.Styles>

		<Style Selector="Window">
			<Setter Property="Background" Value="#191B1F"/>
			<Setter Property="FontSize" Value="18"/>
			<Setter Property="FontFamily" Value="Roboto"/>
			<Setter Property="WindowState" Value="Maximized"/>
		</Style>
		
		<Style Selector="Border">
			<Setter Property="Background" Value="#23272E"/>
			<Setter Property="CornerRadius" Value="5"/>
			
			<Style Selector="^.VerticalMenu">
				<Setter Property="DockPanel.Dock" Value="Left"/>
				<Setter Property="Width" Value="44"/>
				<Setter Property="CornerRadius" Value="0"/>
				<Setter Property="Background" Value="#2E343C"/>
				
				<Style Selector="^ ToggleButton">
					<Setter Property="HorizontalAlignment" Value="Center"/>
					<Setter Property="Height" Value="34"/>
					<Setter Property="IsEnabled" Value="{Binding !$self.IsChecked}"/>
					<Setter Property="Width" Value="34"/>
					<Setter Property="Background" Value="Transparent"/>
				</Style>
			</Style>
			
			<Style Selector="^.HorizontalMenu">
				<Setter Property="DockPanel.Dock" Value="Top"/>
				<Setter Property="Height" Value="36"/>
				<Setter Property="CornerRadius" Value="0"/>
				<Setter Property="Background" Value="#2E343C"/>
				
				<Style Selector="^ ToggleButton">
					<Setter Property="VerticalAlignment" Value="Center"/>
					<Setter Property="Height" Value="26"/>
					<Setter Property="Width" Value="34"/>
					<Setter Property="Background" Value="Transparent"/>
				</Style>
			</Style>

			<Style Selector="^.Submenu">
				<Setter Property="Background" Value="#23272E"/>
				<Setter Property="DockPanel.Dock" Value="Left"/>
				<Setter Property="CornerRadius" Value="0"/>
				<Setter Property="Width" Value="300"/>
			</Style>
		</Style>
		
		<Style Selector="Button.WinButton">
			<Setter Property="CornerRadius" Value="0"/>
			<Setter Property="BorderThickness" Value="0"/>
			<Setter Property="Width" Value="44"/>
			<Setter Property="Height" Value="36"/>
			<Setter Property="Background" Value="#242930"/>
		</Style>

		<Style Selector="TextBlock">
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="Margin" Value="15"/>
		</Style>

		<Style Selector="TabItem">
			<Setter Property="IsVisible" Value="False"/>
		</Style>
	
	</Window.Styles>

	
	<!-- Разметка -->
	<DockPanel>
		
		<!-- Верхнее меню -->
		<Border Classes="HorizontalMenu">
			<Grid ColumnDefinitions="*, auto, auto">
				<!-- Левая часть верхнего меню -->
				<StackPanel Orientation="Horizontal" Spacing="5" Grid.Column="0" Margin="5">
					<ToggleButton x:Name="LeftSubmenu">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/LeftSubmenuIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Скрывает/открывает левое подменю -->
					<ToggleButton x:Name="Navigation" IsVisible="{Binding #LeftSubmenu.IsChecked}">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/FolderIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Бургер со вкладками справочника / Иконка перса со списком персонажей / Папка с папками и заметками приключения -->
					<ToggleButton x:Name="Bookmark" IsVisible="{Binding #LeftSubmenu.IsChecked}">
						<Image Width="12">
							<Image.Source>
								<SvgImage Source="/Assets/BookmarkIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Закладки -->
					<ToggleButton x:Name="Search" IsVisible="{Binding #LeftSubmenu.IsChecked}">
						<Image Width="15.24">
							<Image.Source>
								<SvgImage Source="/Assets/SearchIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Поиск -->
				</StackPanel>

				<StackPanel Orientation="Horizontal" Spacing="5" Grid.Column="1" Margin="5">
					<ToggleButton x:Name="Initiative" IsVisible="{Binding #RightSubmenu.IsChecked}">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/InitiativeIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Трекер инициативы -->
					<ToggleButton x:Name="DiceRoller" IsVisible="{Binding #RightSubmenu.IsChecked}">
						<Image Width="15.59">
							<Image.Source>
								<SvgImage Source="/Assets/DiceRollerIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Дайс-роллер -->
					<ToggleButton x:Name="Spells" IsVisible="{Binding #RightSubmenu.IsChecked}">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/SpellsIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Заклинания -->
					<ToggleButton x:Name="RightSubmenu">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/RightSubmenuIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton> <!-- Скрывает/открывает правое подменю -->
				</StackPanel>
				
				<StackPanel Orientation="Horizontal" Grid.Column="2">
					<Button Classes="WinButton" Command="{Binding HideCommand}">
						<Image Width="12">
							<Image.Source>
								<SvgImage Source="/Assets/HideWindow.svg"/>
							</Image.Source>
						</Image>
					</Button> <!-- Скрывает окно в панель задач -->
					<Button Classes="WinButton" Command="{Binding ExpandCommand}">
						<Image Width="14">
							<Image.Source>
								<SvgImage Source="/Assets/ExpandWindow.svg"/>
							</Image.Source>
						</Image>
					</Button> <!-- Максимизирует/нормализирует размер окна -->
					<Button Classes="WinButton" Command="{Binding CloseCommand}">
						<Image Width="10">
							<Image.Source>
								<SvgImage Source="/Assets/CloseWindow.svg"/>
							</Image.Source>
						</Image>
					</Button> <!-- Закрывает окно -->
				</StackPanel>

				
			</Grid>		
		</Border>
		
		<!-- Левое меню -->
		<Border Classes="VerticalMenu">
			<Grid RowDefinitions="*, auto">
				<StackPanel Orientation="Vertical" Spacing="10" Grid.Row="0" Margin="5">
					<ToggleButton x:Name="HomePage">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/HomePageIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
					<ToggleButton x:Name="HandBook">
						<Image Width="12">
							<Image.Source>
								<SvgImage Source="/Assets/HandbookIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
					<ToggleButton x:Name="Characters">
						<Image Width="13">
							<Image.Source>
								<SvgImage Source="/Assets/CharacterIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
					<ToggleButton x:Name="Adventures">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/AdventureIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
				</StackPanel>

				<StackPanel Orientation="Vertical" Spacing="10" Grid.Row="1" Margin="5,5,5,15">
					<ToggleButton x:Name="LogOut">
						<Image Width="16">
							<Image.Source>
								<SvgImage Source="/Assets/LogOutIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
					<ToggleButton x:Name="Settings">
						<Image Height="18">
							<Image.Source>
								<SvgImage Source="/Assets/SettingsIcon.svg"/>
							</Image.Source>
						</Image>
					</ToggleButton>
				</StackPanel>
				
			</Grid>
		</Border>
		
		<!-- Левое подменю -->
		<Border Classes="Submenu" IsVisible="{Binding #LeftSubmenu.IsChecked, Mode=TwoWay}"/>
		
		<!-- Правое подменю -->
		<Border Classes="Submenu" DockPanel.Dock="Right" IsVisible="{Binding #RightSubmenu.IsChecked, Mode=TwoWay}"/>

		<!-- Страницы -->
		<TabControl Padding="0" Margin="0" BorderThickness="0" CornerRadius="0" TabStripPlacement="Left">

			<TabItem Header="Главная" IsSelected="{Binding IsChecked, ElementName=HomePage, Mode=TwoWay}"/>
			<TabItem Header="Справочник" IsSelected="{Binding #HandBook.IsChecked, Mode=TwoWay}">
				<views:HandbookTab/>
			</TabItem>
			<TabItem Header="Персонажи" IsSelected="{Binding #Characters.IsChecked, Mode=TwoWay}">
				<views:CharacterTab/>
			</TabItem>
			<TabItem Header="Приключения" IsSelected="{Binding #Adventures.IsChecked, Mode=TwoWay}">
				<views:AdvanturesTab/>
			</TabItem>
			
		</TabControl>
		
		
	</DockPanel>

	
</Window>